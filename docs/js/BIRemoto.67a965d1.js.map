{"version":3,"sources":["webpack:///./src/views/BIRemoto.vue?03aa","webpack:///src/views/BIRemoto.vue","webpack:///./src/views/BIRemoto.vue?4b2b","webpack:///./src/views/BIRemoto.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","$route","params","idBRT","dataProcessamento","dataReferencia","pivottableData","length","on","openCsvViewer","showCsvViewer","directives","name","rawName","value","expression","ref","staticRenderFns","title","components","BIProcessamento","CsvViewer","data","watch","loadPivottableData","mounted","methods","showToastLock","download","skipEmptyLines","error","alert","e","complete","console","log","results","fileRes","setTimeout","$refs","csvVieweComponent","loadData","$swal","showConfirmButton","lock","allowEscapeKey","allowEnterKey","allowOutsideClick","text","message","component","VBtn","VCol","VContainer","VRow"],"mappings":"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","file":"js/BIRemoto.67a965d1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"text-h5 font-weight-medium\"},[_vm._v(\"Informações\")])]),_c('v-col',{staticClass:\"py-0 font-weight-light\",attrs:{\"cols\":\"12\"}},[_c('span',[_vm._v(\" BRT: \"),_c('span',{staticClass:\"font-weight-regular\"},[_vm._v(_vm._s(this.$route.params.idBRT))]),_vm._v(\", data do processamento do ripper: \"),_c('span',{staticClass:\"font-weight-regular\"},[_vm._v(_vm._s(this.$route.params.dataProcessamento))]),_vm._v(\" data de referência processada: \"),_c('span',{staticClass:\"font-weight-regular\"},[_vm._v(_vm._s(this.$route.params.dataReferencia))]),_vm._v(\", \")])]),_c('v-col',{staticClass:\"py-0 font-weight-light\",attrs:{\"cols\":\"12\"}},[_c('span',[_vm._v(\"Linhas CSV carregadas: \"+_vm._s(_vm.pivottableData.length))])]),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"block\":\"\",\"elevation\":\"0\",\"color\":\"blue\"},on:{\"click\":_vm.openCsvViewer}},[_vm._v(_vm._s(_vm.showCsvViewer ? 'Esconder CSV' : 'Mostrar CSV'))])],1)],1),_c('v-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showCsvViewer),expression:\"showCsvViewer\"}]},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('CsvViewer',{ref:\"csvVieweComponent\"})],1)],1),_c('v-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showCsvViewer),expression:\"!showCsvViewer\"}]},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('BIProcessamento',{attrs:{\"pivottableData\":_vm.pivottableData}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid>\n    <v-row>\n      <v-col cols=\"12\">\n        <span class=\"text-h5 font-weight-medium\">Informações</span>\n      </v-col>\n      <v-col cols=\"12\" class=\"py-0 font-weight-light\">\n        <span>\n          BRT: <span class=\"font-weight-regular\">{{this.$route.params.idBRT}}</span>,\n          data do processamento do ripper: <span class=\"font-weight-regular\">{{this.$route.params.dataProcessamento}}</span>\n          data de referência processada: <span class=\"font-weight-regular\">{{this.$route.params.dataReferencia}}</span>,\n        </span>\n      </v-col>\n      <v-col cols=\"12\" class=\"py-0 font-weight-light\">\n        <span>Linhas CSV carregadas: {{ pivottableData.length }}</span>\n      </v-col>\n      <v-col cols=\"4\">\n        <v-btn\n          block\n          elevation=\"0\"\n          color=\"blue\"\n          class=\"white--text\"\n          @click=\"openCsvViewer\"\n        >{{ showCsvViewer ? 'Esconder CSV' : 'Mostrar CSV' }}</v-btn>\n      </v-col>\n    </v-row>\n\n    <v-row  v-show=\"showCsvViewer\">\n      <v-col cols=\"12\">\n        <CsvViewer ref=\"csvVieweComponent\" />\n      </v-col>\n    </v-row>\n\n    <v-row v-show=\"!showCsvViewer\">\n      <v-col cols=\"12\">\n        <BIProcessamento :pivottableData=\"pivottableData\"/>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport papaparse from \"papaparse\";\n\nimport csvRipperUtil from \"../services/csv-ripper-util\";\n\nimport BIProcessamento from \"../components/BIProcessamento.vue\";\nimport CsvViewer from \"../components/CsvViewer.vue\";\n\nexport default {\n  name: 'BIRemoto',\n  title: 'BI Remoto',\n\n  components: {\n    BIProcessamento,\n    CsvViewer\n  },\n\n  data: () => ({\n    pivottableData: [],\n    showCsvViewer: false\n  }),\n\n  watch: {\n    '$route': function() {\n      this.showCsvViewer = false\n      this.loadPivottableData()\n    },\n  },\n\n  mounted: function () {\n    this.loadPivottableData()\n  },\n\n  methods: {\n    loadPivottableData: function () {\n      this.showToastLock('AGUARDE...', `Carregando o dia ${this.$route.params.dataReferencia} do BRT ${this.$route.params.idBRT} processado pelo ripper no dia ${this.$route.params.dataProcessamento}`)\n      \n      const url = `./demodata/${this.$route.params.idBRT}/${this.$route.params.dataProcessamento}/${this.$route.params.dataReferencia}.csv`\n      papaparse.parse(url, {\n        download: true,\n        skipEmptyLines: true,\n        error: function(e) {\n          alert(e)\n        },\n        complete: (results, fileRes) => {\n          console.log('results', results, fileRes, this.pivottableData)\n          const data = csvRipperUtil.convertCSVRipperToNumber(results.data)\n          this.pivottableData.splice(0, this.pivottableData.length)\n          this.pivottableData.push(...data)\n          this.$swal.close()\n        }\n      })\n    },\n    openCsvViewer: function () {\n      this.showCsvViewer = !this.showCsvViewer\n      if (this.showCsvViewer) {\n        this.showToastLock('Carregando CSV...', 'Atenção: Para grande quantidade de dados, o navegador pode ficar lento durante o carregamento. Apenas aguarde.')\n        setTimeout(() => {\n          this.$refs.csvVieweComponent.loadData(this.pivottableData)\n          this.$swal.close()\n        }, 500)\n      } else {\n        this.$refs.csvVieweComponent.loadData(null)\n      }\n    },\n    showToastLock: function(title, message, lock=true) {\n      this.$swal({\n        showConfirmButton: !lock,\n        allowEscapeKey: !lock,\n        allowEnterKey: !lock,\n        allowOutsideClick: !lock,\n        title: title,\n        text: message,\n      });\n    }\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BIRemoto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BIRemoto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BIRemoto.vue?vue&type=template&id=6cc82a14&\"\nimport script from \"./BIRemoto.vue?vue&type=script&lang=js&\"\nexport * from \"./BIRemoto.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VContainer,VRow})\n"],"sourceRoot":""}